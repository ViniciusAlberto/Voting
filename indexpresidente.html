<html>
<head>
  <title>Hello World DApp</title>
  <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body class="container">
  <h1>Lista de Candidatos</h1>
  <div class="table-responsive">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Candidato</th>
          <th>Votos</th>
        </tr>
      </thead>
      <tbody id="table-body">
      </tbody>
    </table>
  </div>
  <form id="vote-form">  
    <button type="button" class="btn btn-primary" id="btnVote">Encerrar Eleição</button>
   <br>
   <br>
   <div class="col-md-5" style="padding-left: 0px !important;">
    <input class="form-control" placeholder="Insira endereço do eleitor" id="address" type="text">
    <input class="form-control" placeholder="Nome do eleitor" id="name" style="margin-top: 20px;"  type="text">
    <button type="button" class="btn  btn-primary"  style="margin-top: 20px;" id="btnGiveVote">Dar Direito a voto</button>
  </div>
  <div class="col-md-7"></div>
    
  </form>
  <div class="row col-md-12" style="padding-top: 20px;">
  <div class="table-responsive">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Eleitor</th>
          <th>Status</th>
          <th>Transferencia</th>
        </tr>
      </thead>
      <tbody id="table-body-eleitores">
      </tbody>
    </table>
  </div>
</div>

</body>
<script charset="utf-8" src="https://cdn.ethers.io/scripts/ethers-v4.min.js" type="text/javascript"> </script>
<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<!-- <script src="./js/VotingAbi.js"></script> -->
<script src="./js/Voting.js"></script>
<script src="./js/app.js"></script>
<script>
  window.addEventListener('load', async function() {
  
  if (!ethEnabled()) {
      alert("Por favor, instale um navegador compatível com Ethereum ou uma extensão como o MetaMask para utilizar esse dApp!");
  }
  else {
 
    getMyAccounts(await web3.eth.getAccounts());
  
    eleicao = new web3.eth.Contract(VotingContractInterface, CONTRACT_ADDRESS);
    getCandidatos(eleicao, populaCandidatosPresidente);
    getVoters(eleicao);
  }
  });
  </script>
</html>
